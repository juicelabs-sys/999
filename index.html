<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Galaxy Nebula Love</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    overflow: hidden;
}
canvas {
    display: block;
}
</style>
</head>
<body>

<canvas id="c"></canvas>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = innerWidth;
    canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

let t = 0;
let heartParticles = [];
let nebula = [];
let textAlpha = 0;

// ðŸ’“ HEART SHAPE
function heart(a) {
    return {
        x: 16 * Math.pow(Math.sin(a), 3),
        y: -(13 * Math.cos(a) - 5 * Math.cos(2*a) - 2 * Math.cos(3*a) - Math.cos(4*a))
    };
}

// ðŸŒ  NEBULA CLOUD PARTICLES
for (let i = 0; i < 800; i++) {
    nebula.push({
        angle: Math.random() * Math.PI * 2,
        radius: Math.random() * 400,
        speed: Math.random() * 0.002 + 0.001,
        z: Math.random(), // depth
        size: Math.random() * 2 + 0.5
    });
}

// ðŸ§¬ 3D HEART PARTICLES
class HeartParticle {
    constructor() {
        this.a = Math.random() * Math.PI * 2;
        this.r = Math.random();
        this.z = Math.random(); // depth
        this.life = Math.random() * 400 + 300;
        this.size = Math.random() * 2 + 1;
    }

    update() {
        this.a += 0.02;
        this.life--;
        this.z += Math.sin(t) * 0.0005; // depth breathing
    }

    draw(color) {
        const pulse = 22 + Math.sin(t) * 7;
        const h = heart(this.a);

        const depth = 0.5 + this.z;
        const x = canvas.width / 2 + h.x * pulse * this.r * depth;
        const y = canvas.height / 2 + h.y * pulse * this.r * depth;

        ctx.beginPath();
        ctx.arc(x, y, this.size * depth, 0, Math.PI * 2);
        ctx.fillStyle = color;
        ctx.shadowColor = color;
        ctx.shadowBlur = 30 * depth;
        ctx.fill();
    }
}

// ðŸŒŒ DRAW NEBULA
function drawNebula() {
    ctx.fillStyle = "rgba(0,0,0,0.2)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    ctx.save();
    ctx.translate(canvas.width / 2, canvas.height / 2);
    ctx.rotate(t * 0.05);

    nebula.forEach(n => {
        n.angle += n.speed;
        const x = Math.cos(n.angle) * n.radius * n.z;
        const y = Math.sin(n.angle) * n.radius * n.z;

        ctx.beginPath();
        ctx.arc(x, y, n.size * n.z, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(180,80,255,0.15)";
        ctx.fill();
    });

    ctx.restore();
}

function animate() {
    drawNebula();

    // ðŸŒˆ HEART COLOR (BREATHING)
    const r = Math.floor(200 + 55 * Math.sin(t));
    const g = Math.floor(80 + 80 * Math.sin(t + 2));
    const b = Math.floor(200 + 55 * Math.sin(t + 4));
    const color = `rgb(${r},${g},${b})`;

    if (heartParticles.length < 1400) {
        heartParticles.push(new HeartParticle());
    }

    heartParticles.forEach((p, i) => {
        p.update();
        p.draw(color);
        if (p.life <= 0) heartParticles.splice(i, 1);
    });

    // ðŸ’¬ TEXT FADE IN
    if (textAlpha < 1) textAlpha += 0.002;

    ctx.save();
    ctx.globalAlpha = textAlpha;
    ctx.font = "bold 64px Arial";
    ctx.textAlign = "center";
    ctx.fillStyle = color;
    ctx.shadowColor = color;
    ctx.shadowBlur = 40;
    ctx.fillText("I Love You", canvas.width / 2, canvas.height / 2 + 200);
    ctx.restore();

    t += 0.035;
    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
